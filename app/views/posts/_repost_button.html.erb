<div id="<%= dom_id(post, :repost_button) %>">
  <% if logged_in? %>
    <% if post.reposted_by?(current_user) %>
      <%= button_to post_repost_path(post), method: :delete,
            class: "btn p-0 border-0 bg-transparent text-success fs-4 d-inline-flex align-items-center",
            data: { turbo: true, turbo_confirm: "リツイートを解除しますか？" } do %>
        <i class="bi bi-arrow-repeat"></i>
        <span class="ms-1"><%= post.reposts_count %></span>
      <% end %>
    <% else %>
      <%= button_to post_repost_path(post), method: :post,
            class: "btn p-0 border-0 bg-transparent text-muted fs-4 d-inline-flex align-items-center",
            data: { turbo: true, turbo_confirm: "リツイートしますか？" } do %>
        <i class="bi bi-arrow-repeat"></i>
        <span class="ms-1"><%= post.reposts_count %></span>
      <% end %>
    <% end %>
  <% else %>
    <%= link_to login_path,
          class: "btn p-0 border-0 bg-transparent text-muted fs-4 d-inline-flex align-items-center" do %>
      <i class="bi bi-arrow-repeat"></i>
      <span class="ms-1"><%= post.reposts_count %></span>
    <% end %>
  <% end %>
</div>